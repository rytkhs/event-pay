/**
 * EventPay ENUM型の型定義
 * DB-001: ENUM型定義に対応するTypeScript型
 *
 * データベースのENUM型と1:1で対応する型定義を提供し、
 * フロントエンドとバックエンドでの型安全性を確保します。
 */

import { Database } from "@/types/database";

// ====================================================================
// イベントステータス型
// ====================================================================
/**
 * イベントの進行状況を表すENUM型
 */
export type EventStatus =
  | "upcoming" // 開催予定（デフォルト）
  | "ongoing" // 開催中
  | "past" // 終了
  | "canceled"; // キャンセル

// ====================================================================
// 決済方法型
// ====================================================================
/**
 * 決済方法を表すENUM型
 * データベースのpayment_method_enumと完全に一致
 */
export type PaymentMethod = Database["public"]["Enums"]["payment_method_enum"];

// ====================================================================
// 決済ステータス型
// ====================================================================
/**
 * 決済状況を表すENUM型
 */
export type PaymentStatus =
  | "pending" // 未決済（初期状態）
  | "paid" // 決済済（Stripe決済完了）
  | "failed" // 決済失敗（Stripe決済失敗）
  | "received" // 受領済（現金決済受領）
  | "refunded" // 返金済（Stripe返金処理完了）
  | "waived" // 免除（管理者による手動免除）
  | "canceled"; // キャンセル済（申込みトランザクションの取り消し）

// ====================================================================
// 参加ステータス型
// ====================================================================
/**
 * 参加意思を表すENUM型
 */
export type AttendanceStatus =
  | "attending" // 参加（決済対象）
  | "not_attending" // 不参加
  | "maybe"; // 未定（後で変更可能、決済なし）

// ====================================================================
// Stripe Connectアカウントステータス型
// ====================================================================
/**
 * Stripe Connectアカウントの状況を表すENUM型
 */
export type StripeAccountStatus =
  | "unverified" // 未認証（アカウント未設定）
  | "onboarding" // オンボーディング中（設定途中）
  | "verified" // 認証済（決済受付可能）
  | "restricted"; // 制限中（一時的な制限状態）

// ====================================================================
// 注意: Payout機能は削除済み
// ====================================================================
// Destination Charges移行により、リアルタイム送金となったため
// 別途payout処理は不要となりました。
// settlements テーブルはレポート・スナップショット用途のみです。

// ====================================================================
// 表示名マッピング
// ====================================================================

/**
 * EventStatusの日本語表示名
 */
export const EVENT_STATUS_LABELS: Record<EventStatus, string> = {
  upcoming: "開催予定",
  ongoing: "開催中",
  past: "終了",
  canceled: "キャンセル",
};

/**
 * AttendanceStatusの日本語表示名
 */
export const ATTENDANCE_STATUS_LABELS: Record<AttendanceStatus, string> = {
  attending: "参加",
  not_attending: "不参加",
  maybe: "未定",
};

// PayoutStatus関連のラベルは削除済み（Destination Charges移行により不要）
