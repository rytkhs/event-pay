# UIテスト用チェックリスト

テストデータ作成後のUI動作確認項目をまとめたチェックリストです。

## 事前確認

- [ ] テストデータが正常に作成されている
- [ ] テストユーザーでログインできる
- [ ] Stripe Connectアカウントが設定されている

## ダッシュボード画面テスト

### イベント一覧表示
- [ ] 7つのイベントが表示される
- [ ] 開催状況（予定/終了/中止）が正しく表示される
- [ ] 参加者数が表示される
- [ ] 売上金額が表示される（有料イベント）
- [ ] 無料イベントは金額表示が適切

### フィルタリング・ソート機能
- [ ] 開催状況でフィルタできる
- [ ] 日付順でソートできる
- [ ] 検索機能が動作する

### レスポンシブ対応
- [ ] スマートフォン表示が崩れない
- [ ] タブレット表示が適切
- [ ] PC表示が正常

## イベント詳細画面テスト

### 基本情報表示
- [ ] イベントタイトルが正しく表示
- [ ] 開催日時・場所が表示
- [ ] 参加費が表示（無料の場合は「無料」）
- [ ] 定員情報が表示（定員なしは「制限なし」）
- [ ] 登録締切・決済締切が表示

### 参加者一覧
- [ ] 全参加者が表示される（15-36名）
- [ ] 参加ステータス別の表示が正しい
  - [ ] 参加（attending）
  - [ ] 不参加（not_attending）
  - [ ] 未定（maybe）
- [ ] 参加者名・メールアドレスが表示
- [ ] 決済状況が表示される（有料イベント）

### 決済状況表示（有料イベント）
- [ ] 決済完了者数が表示
- [ ] 未決済者数が表示
- [ ] 決済ステータス別の内訳
  - [ ] paid（Stripe決済完了）
  - [ ] received（現金受領済み）
  - [ ] pending（未決済）
  - [ ] completed（処理完了）
  - [ ] waived（免除）
  - [ ] failed（決済失敗）

### 売上サマリー（有料イベント）
- [ ] 総売上金額
- [ ] Stripe売上・現金売上の内訳
- [ ] 手数料情報
- [ ] 純売上金額

## 決済管理画面テスト

### 決済一覧表示
- [ ] 全決済レコードが表示される
- [ ] イベント別の表示
- [ ] 決済方法別の表示（Stripe/現金）
- [ ] ステータス別の表示

### 現金決済管理
- [ ] 現金決済のステータス更新ができる
- [ ] 「受領済み」への変更
- [ ] 「免除」への変更
- [ ] 楽観的ロック（バージョン管理）が動作する

### 一括操作
- [ ] 複数の現金決済を一括更新できる
- [ ] エラー時の個別レポートが表示される
- [ ] 処理結果の詳細が確認できる

## 清算・レポート画面テスト

### 清算レポート表示（開催済みイベント）
- [ ] 清算対象イベント（最初の3つ）にレポートが表示
- [ ] 総売上・手数料・純利益の計算が正しい
- [ ] Stripe手数料の計算が適切
- [ ] プラットフォーム手数料（現在は0）

### レポート詳細
- [ ] 決済件数・返金件数の表示
- [ ] 返金額の表示
- [ ] Dispute情報（該当する場合）
- [ ] 生成日時の表示

## エラーハンドリングテスト

### アクセス権限
- [ ] 他のユーザーのイベントにアクセスできない
- [ ] 未認証でのアクセスが適切にブロックされる
- [ ] 権限不足時のエラーメッセージが適切

### 締切管理
- [ ] 登録締切後の参加登録ができない
- [ ] 決済締切後の決済処理ができない
- [ ] 適切なエラーメッセージが表示される

### 定員管理
- [ ] 定員超過時の参加登録ができない（少人数読書会で確認）
- [ ] 適切なエラーメッセージが表示される
- [ ] キャンセル後の空き枠処理

### データ整合性
- [ ] 中止イベントの決済処理が適切
- [ ] 削除されたデータへのアクセス処理
- [ ] 不正なデータ操作の防止

## パフォーマンステスト

### レスポンス時間
- [ ] イベント一覧の読み込み（189名の参加者データ）
- [ ] 参加者一覧の表示
- [ ] 決済一覧の表示
- [ ] 清算レポートの生成

### 同時アクセス
- [ ] 複数タブでの同時操作
- [ ] 楽観的ロックの動作確認
- [ ] セッション管理

## データ表示精度テスト

### 数値計算
- [ ] 参加者数の合計が正しい
- [ ] 売上金額の計算が正確
- [ ] 手数料計算が適切
- [ ] パーセンテージ表示が正確

### 日時表示
- [ ] タイムゾーン表示が適切（JST）
- [ ] 相対時間表示（「3日前」など）
- [ ] 締切までの残り時間表示

### ステータス表示
- [ ] 参加ステータスの日本語表示
- [ ] 決済ステータスの適切な表示
- [ ] イベント状況（予定/終了/中止）の表示

## 国際化・アクセシビリティ

### 多言語対応
- [ ] 日本語表示が正しい
- [ ] エラーメッセージが適切な言語

### アクセシビリティ
- [ ] キーボードナビゲーション
- [ ] スクリーンリーダー対応
- [ ] コントラスト比

## 追加テストデータパターン

必要に応じて以下のパターンも追加検証：

### 極端なケース
- [ ] 参加者0名のイベント
- [ ] 非常に大きな金額（100,000円以上）
- [ ] 決済期限切れのデータ
- [ ] 返金処理済みのデータ

### エッジケース
- [ ] 同時刻の複数イベント
- [ ] 長いイベントタイトル・説明文
- [ ] 特殊文字を含む参加者名
- [ ] 重複メールアドレスの処理

## テスト完了後の確認

- [ ] テストデータがUIに正しく反映されている
- [ ] パフォーマンスに問題がない
- [ ] エラーハンドリングが適切
- [ ] ユーザビリティに問題がない

## クリーンアップ

テスト完了後は以下を実行：

```bash
# テストデータを削除
psql "your-database-connection-string" -f scripts/cleanup_test_data.sql
```

- [ ] テストデータが完全に削除された
- [ ] データベースが初期状態に戻った
- [ ] 本番データに影響していない
